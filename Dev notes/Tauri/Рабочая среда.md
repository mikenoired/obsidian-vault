Для полноценного рабочего окружения каждая программа на Tauri имеет в корне конфиги(`Cargo.toml`, `package.json`, etc.). Требуется это по ряду причин:

- Для полноценного взаимодействия с пакетами внутри монорепозитория.
- “Вытаскивать” данные о зависимостях и настройках из под корня

Для гармоничной работы с разного рода пакетами и реализациями приложения требуется единая база зависимостей `Cargo.toml` во избежание конфликта версий, а так же оптимизации сборки для обращения к одной папке с зависимостями.

## И чё делать?

Создайте `Cargo.toml` в корне вашего проекта рядом с `packages`, `apps`, `node_modules`. Далее, напишите те параметры, которые вам нужно будет брать уже в `Cargo.toml` внутри `src-tauri`.

Пример корневого `Cargo.toml`:

```Rust
[workspace]
resolver = "1"
members = [
  "packages/app/src-tauri"
]

[workspace.package]
version = "0.0.0"
description = "Rust-based app for reading & managing posts & documents from web."
authors = ["Mike Noired"]
edition = "2021"

[workspace.dependencies]
tauri = { version = "2.0.0-rc", features = [] }
tauri-build = { version = "2.0.0-rc", features = [] }

[profile.release]
lto = true
opt-level = 'z'
codegen-units = 1
panic = "abort"
strip = true
debug = false
```

Давайте разберём пару важных моментов:

- Для того, чтобы обозначить, что мы используем какие-либо значения для использования в проекте следует использовать следующие оглавления секций `workspace.package`, `workspace.dependencies`, `workspace.metadata`. Только эти секции возможно выводить в проекте и использовать в дочерних пакетах.
- Так же у нас имеется секция `workspace`, внутри которого мы обозначаем настройки самого окружения. `members` нам позволяет выбрать те пакеты, которые будут использовать корневой Cargo.toml.

Пример дочернего Cargo.toml:

```Rust
[package]
name = "zenread"
version = { workspace = true }
description = { workspace = true }
authors = { workspace = true }
edition = { workspace = true }

[build-dependencies]
tauri-build = { workspace = true }

[dependencies]
tauri = { workspace = true }
serde = { version = "1", features = ["derive"] }
serde_json = "1"
tauri-plugin-fs = "2.0.0-rc.0"

[features]
custom-protocol = ["tauri/custom-protocol"]
```

Вот тут и раскрывается вся магия работы с окружением!

Для того, чтобы обозначить, что мы используем зависимость из корня окружения, мы лишь вместо самой версии пакета пишем `{ workspace = true }`.